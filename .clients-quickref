# ğŸ“‹ CLIENT MANAGEMENT - QUICK REFERENCE

## ğŸš€ QUICK ACCESS

**Menu Location:** Sidebar â†’ "Klien" (after Instansi)  
**Base URL:** `https://bizmark.id/clients`  
**Documentation:** `CLIENT_MANAGEMENT_SYSTEM.md`

---

## ğŸ“ ALL URLS

```
GET  /clients              â†’ List all clients
GET  /clients/create       â†’ Create new client form
POST /clients              â†’ Save new client
GET  /clients/{id}         â†’ View client details
GET  /clients/{id}/edit    â†’ Edit client form
PUT  /clients/{id}         â†’ Update client
DEL  /clients/{id}         â†’ Delete client (soft)
GET  /api/clients          â†’ API for Select2
```

---

## ğŸ—‚ï¸ FILES CREATED

### Database
- `database/migrations/2025_10_03_163452_create_clients_table.php`
- `database/migrations/2025_10_03_163524_add_client_id_to_projects_table.php`

### Models
- `app/Models/Client.php` (new)
- `app/Models/Project.php` (updated)

### Controllers
- `app/Http/Controllers/ClientController.php` (8 methods)

### Views
- `resources/views/clients/index.blade.php`
- `resources/views/clients/create.blade.php`
- `resources/views/clients/edit.blade.php`
- `resources/views/clients/show.blade.php`

### Routes
- `routes/web.php` (updated)

### Layout
- `resources/views/layouts/app.blade.php` (sidebar updated)

---

## ğŸ“Š DATABASE SCHEMA

### clients table (18 fields)
```
âœ… Required: name, client_type, status
ğŸ“ Optional: company_name, industry, contact_person, 
             email, phone, mobile, address, city, 
             province, postal_code, npwp, tax_name, 
             tax_address, notes
ğŸ”„ Auto: id, created_at, updated_at, deleted_at
```

### ENUMs
- **client_type:** individual, company, government
- **status:** active, inactive, potential

---

## ğŸ¯ KEY FEATURES

âœ… Full CRUD operations  
âœ… Soft delete (data preserved)  
âœ… Search & filter functionality  
âœ… Project relationship tracking  
âœ… Statistics computation  
âœ… API endpoint for Select2  
âœ… Sidebar with badge counter  
âœ… Responsive design  
âœ… Dark mode compatible  

---

## ğŸ“ˆ COMPUTED VALUES

```php
$client->projects->count()           // Total projects
$client->activeProjectsCount()       // Active projects only
$client->totalProjectValue           // Sum of project values
$client->totalPaid                   // Sum of payments
```

---

## ğŸ” QUERY SCOPES

```php
Client::active()->get()              // Active clients only
Client::company()->get()             // Company type only
```

---

## ğŸ¨ STATUS BADGES

- ğŸŸ¢ **Active** â†’ Green badge
- ğŸ”´ **Inactive** â†’ Red badge
- ğŸŸ¡ **Potential** â†’ Yellow badge

---

## ğŸ·ï¸ CLIENT TYPE BADGES

- ğŸ”µ **Individual** â†’ Blue badge
- ğŸŸ£ **Company** â†’ Primary badge
- âš« **Government** â†’ Gray badge

---

## ğŸ§ª TESTING COMMANDS

```bash
# View routes
docker exec bizmark_app php artisan route:list --name=clients

# Count clients
docker exec bizmark_app php artisan tinker
>>> \App\Models\Client::count()

# Clear cache
docker exec bizmark_app php artisan cache:clear
```

---

## ğŸš« BUSINESS RULES

1. **Cannot delete client** if has projects
2. **Email must be unique** (if provided)
3. **Soft delete** preserves all data
4. **client_id nullable** in projects (allows manual entry fallback)

---

## ğŸ”— NEXT STEPS

### To Complete Integration:

1. **Update Project Create Form**
   - Add client_id Select2 dropdown
   - Use `/api/clients` endpoint
   - Auto-fill contact fields

2. **Update Project Edit Form**
   - Same as create form

3. **Add JavaScript Auto-fill**
   - Populate fields when client selected

---

## ğŸ“± SIDEBAR INFO

**Icon:** `fa-users`  
**Label:** "Klien"  
**Position:** After "Instansi"  
**Counter:** Shows total client count  

---

## âš ï¸ IMPORTANT NOTES

- All migrations already run âœ…
- All views created âœ…
- Sidebar menu added âœ…
- Routes registered âœ…
- Ready to use! ğŸ‰

---

## ğŸ“ QUICK HELP

**Can't see menu?** Clear cache:
```bash
docker exec bizmark_app php artisan view:clear
```

**Routes not working?** Cache routes:
```bash
docker exec bizmark_app php artisan route:cache
```

**Changes not visible?** Restart container:
```bash
docker restart bizmark_app
```

---

**Created:** 03 Jan 2025  
**Status:** âœ… COMPLETED  
**Version:** 1.0.0
